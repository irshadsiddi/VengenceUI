{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "spotlight-navbar",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "components/ui/spotlight-navbar.tsx",
      "content": "\"use client\";\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { animate } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface NavItem {\n    label: string;\n    href: string;\n}\n\nexport interface SpotlightNavbarProps {\n    items?: NavItem[];\n    className?: string;\n    onItemClick?: (item: NavItem, index: number) => void;\n    defaultActiveIndex?: number;\n}\n\nexport function SpotlightNavbar({\n    items = [\n        { label: \"Home\", href: \"#home\" },\n        { label: \"About\", href: \"#about\" },\n        { label: \"Events\", href: \"#events\" },\n        { label: \"Sponsors\", href: \"#sponsors\" },\n        { label: \"Pricing\", href: \"#pricing\" },\n    ],\n    className,\n    onItemClick,\n    defaultActiveIndex = 0,\n}: SpotlightNavbarProps) {\n    const navRef = useRef<HTMLDivElement>(null);\n    const [activeIndex, setActiveIndex] = useState(defaultActiveIndex);\n    const [hoverX, setHoverX] = useState<number | null>(null);\n    const [isDark, setIsDark] = useState(false);\n\n    // Refs for the \"light\" positions so we can animate them imperatively\n    const spotlightX = useRef(0);\n    const ambienceX = useRef(0);\n\n    useEffect(() => {\n        const checkTheme = () => {\n            setIsDark(document.documentElement.classList.contains('dark'));\n        };\n        checkTheme();\n        const observer = new MutationObserver(checkTheme);\n        observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });\n        return () => observer.disconnect();\n    }, []);\n\n    useEffect(() => {\n        if (!navRef.current) return;\n        const nav = navRef.current;\n\n        const handleMouseMove = (e: MouseEvent) => {\n            const rect = nav.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            setHoverX(x);\n            // Direct update for immediate feedback (no spring for the mouse itself, feels snappier)\n            spotlightX.current = x;\n            nav.style.setProperty(\"--spotlight-x\", `${x}px`);\n        };\n\n        const handleMouseLeave = () => {\n            setHoverX(null);\n            // When mouse leaves, spring the spotlight back to the active item\n            const activeItem = nav.querySelector(`[data-index=\"${activeIndex}\"]`);\n            if (activeItem) {\n                const navRect = nav.getBoundingClientRect();\n                const itemRect = activeItem.getBoundingClientRect();\n                const targetX = itemRect.left - navRect.left + itemRect.width / 2;\n\n                animate(spotlightX.current, targetX, {\n                    type: \"spring\",\n                    stiffness: 200,\n                    damping: 20,\n                    onUpdate: (v) => {\n                        spotlightX.current = v;\n                        nav.style.setProperty(\"--spotlight-x\", `${v}px`);\n                    }\n                });\n            }\n        };\n\n        nav.addEventListener(\"mousemove\", handleMouseMove);\n        nav.addEventListener(\"mouseleave\", handleMouseLeave);\n\n        return () => {\n            nav.removeEventListener(\"mousemove\", handleMouseMove);\n            nav.removeEventListener(\"mouseleave\", handleMouseLeave);\n        };\n    }, [activeIndex]);\n\n    // Handle the \"Ambience\" (Active Item) Movement\n    useEffect(() => {\n        if (!navRef.current) return;\n        const nav = navRef.current;\n        const activeItem = nav.querySelector(`[data-index=\"${activeIndex}\"]`);\n\n        if (activeItem) {\n            const navRect = nav.getBoundingClientRect();\n            const itemRect = activeItem.getBoundingClientRect();\n            const targetX = itemRect.left - navRect.left + itemRect.width / 2;\n\n            animate(ambienceX.current, targetX, {\n                type: \"spring\",\n                stiffness: 200,\n                damping: 20,\n                onUpdate: (v) => {\n                    ambienceX.current = v;\n                    nav.style.setProperty(\"--ambience-x\", `${v}px`);\n                },\n            });\n        }\n    }, [activeIndex]);\n\n    const handleItemClick = (item: NavItem, index: number) => {\n        setActiveIndex(index);\n        onItemClick?.(item, index);\n    };\n\n    return (\n        <div className={cn(\"relative flex justify-center pt-10\", className)}>\n            <nav\n                ref={navRef}\n                className={cn(\n                    \"spotlight-nav spotlight-nav-bg glass-border spotlight-nav-shadow\",\n                    \"relative h-11 rounded-full transition-all duration-300 overflow-hidden\"\n                )}\n            >\n                {/* Content */}\n                <ul className=\"relative flex items-center h-full px-2 gap-0 z-[10]\">\n                    {items.map((item, idx) => (\n                        <li key={idx} className=\"relative h-full flex items-center justify-center\">\n                            <a\n                                href={item.href}\n                                data-index={idx}\n                                onClick={(e) => {\n                                    e.preventDefault();\n                                    handleItemClick(item, idx);\n                                }}\n                                className={cn(\n                                    \"px-4 py-2 text-sm font-medium transition-colors duration-200 rounded-full\",\n                                    \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 dark:focus-visible:ring-white/30\",\n                                    // Active vs Inactive Text\n                                    activeIndex === idx\n                                        ? \"text-black dark:text-white\"\n                                        : \"text-neutral-500 dark:text-neutral-400 hover:text-black dark:hover:text-white\"\n                                )}\n                            >\n                                {item.label}\n                            </a>\n                        </li>\n                    ))}\n                </ul>\n\n                {/* LIGHTING LAYERS \n           We use CSS variables --spotlight-x and --ambience-x updated by JS\n        */}\n\n                {/* 1. The Moving Spotlight (Follows Mouse) */}\n                <div\n                    className=\"pointer-events-none absolute bottom-0 left-0 w-full h-full z-[1] opacity-0 transition-opacity duration-300\"\n                    style={{\n                        opacity: hoverX !== null ? 1 : 0,\n                        background: `\n              radial-gradient(\n                120px circle at var(--spotlight-x) 100%, \n                var(--spotlight-color, rgba(0,0,0,0.1)) 0%, \n                transparent 50%\n              )\n            `\n                    }}\n                />\n\n                {/* 2. The Active State Ambience (Stays on Active) */}\n                <div\n                    className=\"pointer-events-none absolute bottom-0 left-0 w-full h-[2px] z-[2]\"\n                    style={{\n                        background: `\n                  radial-gradient(\n                    60px circle at var(--ambience-x) 0%, \n                    var(--ambience-color, rgba(0,0,0,1)) 0%, \n                    transparent 100%\n                  )\n                `\n                    }}\n                />\n\n            </nav>\n\n            {/* STYLE BLOCK for Dynamic Colors \n        This allows us to switch the gradient colors cleanly using Tailwind classes \n        without messy inline conditionals.\n      */}\n            <style jsx>{`\n        nav {\n          /* Light Mode Colors: Dark Gray/Black lights */\n          --spotlight-color: rgba(0,0,0,0.08);\n          --ambience-color: rgba(0,0,0,0.8);\n        }\n        :global(.dark) nav {\n          /* Dark Mode Colors: White lights */\n          --spotlight-color: rgba(255,255,255,0.15);\n          --ambience-color: rgba(255,255,255,1);\n        }\n      `}</style>\n        </div>\n    );\n}\n",
      "type": "registry:ui",
      "target": "components/ui/spotlight-navbar.tsx"
    }
  ]
}